<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–Ω–∞—Å—Ç–µ–π - FishGuide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .text-gradient { background: linear-gradient(135deg, #f97316, #ea580c); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .step-active { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; }
        .step-completed { background: linear-gradient(135deg, #10b981, #059669); color: white; }
        .step-inactive { background: #e2e8f0; color: #64748b; }
        .recommendation-card { transition: all 0.3s ease; }
        .recommendation-card:hover { transform: translateY(-2px); box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
        .progress-bar { transition: width 0.5s ease; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white/90 backdrop-blur-md z-50 border-b border-slate-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="text-2xl">üêü</div>
                    <span class="text-xl font-bold text-gradient">FishGuide</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-slate-600 hover:text-blue-600 transition-colors">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="lakes.html" class="text-slate-600 hover:text-blue-600 transition-colors">–ö–∞—Ç–∞–ª–æ–≥ –æ–∑–µ—Ä</a>
                    <a href="tackle-calculator.html" class="text-blue-600 font-medium">–ü–æ–¥–æ–±—Ä–∞—Ç—å —Å–Ω–∞—Å—Ç–∏</a>
                    <a href="fish-guide.html" class="text-slate-600 hover:text-blue-600 transition-colors">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä—ã–±</a>
                </div>
                <button class="md:hidden p-2" onclick="toggleMobileMenu()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed top-16 left-0 w-full bg-white border-b border-slate-200 z-40 hidden">
        <div class="px-4 py-4 space-y-2">
            <a href="index.html" class="block py-2 text-slate-600">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="lakes.html" class="block py-2 text-slate-600">–ö–∞—Ç–∞–ª–æ–≥ –æ–∑–µ—Ä</a>
            <a href="tackle-calculator.html" class="block py-2 text-blue-600 font-medium">–ü–æ–¥–æ–±—Ä–∞—Ç—å —Å–Ω–∞—Å—Ç–∏</a>
            <a href="fish-guide.html" class="block py-2 text-slate-600">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä—ã–±</a>
        </div>
    </div>

    <!-- Header Section -->
    <section class="pt-24 pb-12 bg-gradient-to-br from-blue-600 to-blue-800">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="text-6xl mb-4">üéØ</div>
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä—ã–±–æ–ª–æ–≤–Ω—ã—Ö —Å–Ω–∞—Å—Ç–µ–π</h1>
            <p class="text-xl text-blue-100 mb-8">–ü–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–¥–∏–ª–∏—â–∞–º, –∫–∞—Ç—É—à–∫–∞–º –∏ –ø—Ä–∏–º–∞–Ω–∫–∞–º</p>
        </div>
    </section>

    <!-- Calculator Section -->
    <section class="py-12">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Progress Bar -->
            <div class="mb-8">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-sm font-medium text-slate-600">–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                    <span id="progress-text" class="text-sm font-medium text-slate-600">–®–∞–≥ 1 –∏–∑ 2</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                    <div id="progress-bar" class="progress-bar bg-gradient-to-r from-blue-600 to-blue-800 h-2 rounded-full" style="width: 50%"></div>
                </div>
            </div>

            <!-- Step Indicator -->
            <div class="flex items-center justify-center mb-12">
                <div class="flex items-center space-x-4">
                    <div id="step1-indicator" class="step-active w-10 h-10 rounded-full flex items-center justify-center font-semibold">1</div>
                    <div class="w-16 h-1 bg-slate-200"></div>
                    <div id="step2-indicator" class="step-inactive w-10 h-10 rounded-full flex items-center justify-center font-semibold">2</div>
                    <div class="w-16 h-1 bg-slate-200"></div>
                    <div id="step3-indicator" class="step-inactive w-10 h-10 rounded-full flex items-center justify-center font-semibold">3</div>
                </div>
            </div>

            <!-- Step 1: Fish Selection -->
            <div id="step1" class="step-content">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-slate-800 mb-6 text-center">–ö–æ–≥–æ –±—É–¥–µ–º –ª–æ–≤–∏—Ç—å?</h2>
                    <p class="text-slate-600 text-center mb-8">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª–µ–≤—É—é —Ä—ã–±—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</p>
                    
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Predatory Fish -->
                        <div class="space-y-4">
                            <h3 class="text-lg font-semibold text-slate-800 mb-4">ü¶à –•–∏—â–Ω—ã–µ</h3>
                            <div id="predatory-fish" class="space-y-3">
                                <!-- Fish options will be loaded here -->
                            </div>
                        </div>
                        
                        <!-- Peaceful Fish -->
                        <div class="space-y-4">
                            <h3 class="text-lg font-semibold text-slate-800 mb-4">üêü –ú–∏—Ä–Ω—ã–µ</h3>
                            <div id="peaceful-fish" class="space-y-3">
                                <!-- Fish options will be loaded here -->
                            </div>
                        </div>
                        
                        <!-- Universal Fish -->
                        <div class="space-y-4">
                            <h3 class="text-lg font-semibold text-slate-800 mb-4">üéØ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ</h3>
                            <div id="universal-fish" class="space-y-3">
                                <!-- Fish options will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center mt-8">
                        <button id="step1-next" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold text-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            –î–∞–ª–µ–µ ‚Üí
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 2: Season Selection -->
            <div id="step2" class="step-content hidden">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-slate-800 mb-6 text-center">–ö–æ–≥–¥–∞ –µ–¥–µ–º –Ω–∞ —Ä—ã–±–∞–ª–∫—É?</h2>
                    <p class="text-slate-600 text-center mb-8">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ–∑–æ–Ω –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Å–Ω–∞—Å—Ç–µ–π</p>
                    
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="season-option cursor-pointer p-6 border-2 border-slate-200 rounded-xl hover:border-blue-500 transition-colors text-center" data-season="spring">
                            <div class="text-4xl mb-3">üå∏</div>
                            <h3 class="text-xl font-semibold mb-2">–í–µ—Å–Ω–∞</h3>
                            <p class="text-slate-600 text-sm">–ú–∞—Ä—Ç - –ú–∞–π</p>
                            <p class="text-slate-500 text-xs mt-2">–ê–∫—Ç–∏–≤–Ω—ã–π –∫–ª–µ–≤ –ø–æ—Å–ª–µ –∑–∏–º—ã</p>
                        </div>
                        
                        <div class="season-option cursor-pointer p-6 border-2 border-slate-200 rounded-xl hover:border-blue-500 transition-colors text-center" data-season="summer">
                            <div class="text-4xl mb-3">‚òÄÔ∏è</div>
                            <h3 class="text-xl font-semibold mb-2">–õ–µ—Ç–æ</h3>
                            <p class="text-slate-600 text-sm">–ò—é–Ω—å - –ê–≤–≥—É—Å—Ç</p>
                            <p class="text-slate-500 text-xs mt-2">–û—Ç–ª–∏—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Ä—ã–±–∞–ª–∫–∏</p>
                        </div>
                        
                        <div class="season-option cursor-pointer p-6 border-2 border-slate-200 rounded-xl hover:border-blue-500 transition-colors text-center" data-season="autumn">
                            <div class="text-4xl mb-3">üçÇ</div>
                            <h3 class="text-xl font-semibold mb-2">–û—Å–µ–Ω—å</h3>
                            <p class="text-slate-600 text-sm">–°–µ–Ω—Ç—è–±—Ä—å - –ù–æ—è–±—Ä—å</p>
                            <p class="text-slate-500 text-xs mt-2">–ñ–æ—Ä –ø–µ—Ä–µ–¥ –∑–∏–º–æ–≤–∫–æ–π</p>
                        </div>
                        
                        <div class="season-option cursor-pointer p-6 border-2 border-slate-200 rounded-xl hover:border-blue-500 transition-colors text-center" data-season="winter">
                            <div class="text-4xl mb-3">‚ùÑÔ∏è</div>
                            <h3 class="text-xl font-semibold mb-2">–ó–∏–º–∞</h3>
                            <p class="text-slate-600 text-sm">–î–µ–∫–∞–±—Ä—å - –§–µ–≤—Ä–∞–ª—å</p>
                            <p class="text-slate-500 text-xs mt-2">–ó–∏–º–Ω—è—è —Ä—ã–±–∞–ª–∫–∞ –Ω–∞ –ª—å–¥—É</p>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-8">
                        <button id="step2-back" class="bg-slate-200 hover:bg-slate-300 text-slate-700 px-8 py-3 rounded-lg font-semibold text-lg transition-colors">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                        <button id="step2-next" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold text-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ ‚Üí
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 3: Recommendations -->
            <div id="step3" class="step-content hidden">
                <div class="space-y-8">
                    <!-- Summary -->
                    <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6">
                        <h2 class="text-2xl font-bold text-slate-800 mb-4">üé£ –í–∞—à –≤—ã–±–æ—Ä</h2>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <span class="text-slate-600">–¶–µ–ª–µ–≤–∞—è —Ä—ã–±–∞:</span>
                                <span id="summary-fish" class="font-semibold ml-2">-</span>
                            </div>
                            <div>
                                <span class="text-slate-600">–°–µ–∑–æ–Ω:</span>
                                <span id="summary-season" class="font-semibold ml-2">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recommendations -->
                    <div id="recommendations-container">
                        <!-- Recommendations will be loaded here -->
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex justify-between">
                        <button id="step3-back" class="bg-slate-200 hover:bg-slate-300 text-slate-700 px-8 py-3 rounded-lg font-semibold text-lg transition-colors">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                        <button onclick="resetCalculator()" class="bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold text-lg transition-colors">
                            üîÑ –ù–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-800 text-white py-12">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="text-2xl">üêü</div>
                        <span class="text-xl font-bold text-gradient">FishGuide</span>
                    </div>
                    <p class="text-slate-400">–ü—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ —Ä—ã–±–æ–ª–æ–≤–Ω—ã–º –æ–∑–µ—Ä–∞–º –†–æ—Å—Å–∏–∏</p>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <ul class="space-y-2 text-slate-400">
                        <li><a href="index.html" class="hover:text-white transition-colors">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="lakes.html" class="hover:text-white transition-colors">–ö–∞—Ç–∞–ª–æ–≥ –æ–∑–µ—Ä</a></li>
                        <li><a href="fish-guide.html" class="hover:text-white transition-colors">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä—ã–±</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä—ã–±—ã</h3>
                    <ul class="space-y-2 text-slate-400">
                        <li><a href="fish-guide.html?fish=–©—É–∫–∞" class="hover:text-white transition-colors">–©—É–∫–∞</a></li>
                        <li><a href="fish-guide.html?fish=–û–∫—É–Ω—å" class="hover:text-white transition-colors">–û–∫—É–Ω—å</a></li>
                        <li><a href="fish-guide.html?fish=–õ–µ—â" class="hover:text-white transition-colors">–õ–µ—â</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-slate-700 mt-8 pt-8 text-center text-slate-400">
                <p>&copy; 2024 FishGuide. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="main.js"></script>
    <script>
        // Calculator state
        let currentStep = 1;
        let selectedFish = null;
        let selectedSeason = null;
        let fishData = [];

        // Initialize calculator
        function initializeTackleCalculator() {
            fishData = window.FishGuide?.fishData || [];
            loadFishOptions();
            setupEventListeners();
        }

        // Load fish options
        function loadFishOptions() {
            const predatoryFish = document.getElementById('predatory-fish');
            const peacefulFish = document.getElementById('peaceful-fish');
            const universalFish = document.getElementById('universal-fish');

            const predatory = fishData.filter(fish => fish.type === '—Ö–∏—â–Ω–∞—è');
            const peaceful = fishData.filter(fish => fish.type === '–º–∏—Ä–Ω–∞—è');
            const universal = ['–©—É–∫–∞', '–û–∫—É–Ω—å', '–õ–µ—â', '–°—É–¥–∞–∫']; // Popular universal fish

            predatoryFish.innerHTML = predatory.map(fish => createFishOption(fish)).join('');
            peacefulFish.innerHTML = peaceful.map(fish => createFishOption(fish)).join('');
            universalFish.innerHTML = universal.map(fishName => {
                const fish = fishData.find(f => f.name === fishName) || { name: fishName, type: '—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è' };
                return createFishOption(fish);
            }).join('');
        }

        // Create fish option
        function createFishOption(fish) {
            return `
                <div class="fish-option cursor-pointer p-3 border-2 border-slate-200 rounded-lg hover:border-blue-500 transition-colors" data-fish="${fish.name}">
                    <div class="flex items-center space-x-3">
                        <div class="text-2xl">${getFishIcon(fish.type)}</div>
                        <div>
                            <div class="font-medium">${fish.name}</div>
                            <div class="text-sm text-slate-600">${fish.type || '—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è'}</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Get fish icon by type
        function getFishIcon(type) {
            switch(type) {
                case '—Ö–∏—â–Ω–∞—è': return 'ü¶à';
                case '–º–∏—Ä–Ω–∞—è': return 'üêü';
                default: return 'üéØ';
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Fish selection
            document.addEventListener('click', function(e) {
                if (e.target.closest('.fish-option')) {
                    selectFish(e.target.closest('.fish-option'));
                }
            });

            // Season selection
            document.addEventListener('click', function(e) {
                if (e.target.closest('.season-option')) {
                    selectSeason(e.target.closest('.season-option'));
                }
            });

            // Navigation buttons
            document.getElementById('step1-next').addEventListener('click', () => goToStep(2));
            document.getElementById('step2-back').addEventListener('click', () => goToStep(1));
            document.getElementById('step2-next').addEventListener('click', () => goToStep(3));
            document.getElementById('step3-back').addEventListener('click', () => goToStep(2));
        }

        // Select fish
        function selectFish(fishElement) {
            // Remove previous selection
            document.querySelectorAll('.fish-option').forEach(el => {
                el.classList.remove('border-blue-500', 'bg-blue-50');
                el.classList.add('border-slate-200');
            });

            // Add selection to clicked element
            fishElement.classList.remove('border-slate-200');
            fishElement.classList.add('border-blue-500', 'bg-blue-50');

            selectedFish = fishElement.dataset.fish;
            document.getElementById('step1-next').disabled = false;
        }

        // Select season
        function selectSeason(seasonElement) {
            // Remove previous selection
            document.querySelectorAll('.season-option').forEach(el => {
                el.classList.remove('border-blue-500', 'bg-blue-50');
                el.classList.add('border-slate-200');
            });

            // Add selection to clicked element
            seasonElement.classList.remove('border-slate-200');
            seasonElement.classList.add('border-blue-500', 'bg-blue-50');

            selectedSeason = seasonElement.dataset.season;
            document.getElementById('step2-next').disabled = false;
        }

        // Go to step
        function goToStep(step) {
            // Hide all steps
            document.querySelectorAll('.step-content').forEach(el => {
                el.classList.add('hidden');
            });

            // Show target step
            document.getElementById(`step${step}`).classList.remove('hidden');

            // Update step indicators
            updateStepIndicators(step);

            // Update progress
            updateProgress(step);

            // Generate recommendations if going to step 3
            if (step === 3) {
                generateRecommendations();
            }

            currentStep = step;
        }

        // Update step indicators
        function updateStepIndicators(currentStep) {
            for (let i = 1; i <= 3; i++) {
                const indicator = document.getElementById(`step${i}-indicator`);
                
                if (i < currentStep) {
                    indicator.className = 'step-completed w-10 h-10 rounded-full flex items-center justify-center font-semibold';
                    indicator.innerHTML = '‚úì';
                } else if (i === currentStep) {
                    indicator.className = 'step-active w-10 h-10 rounded-full flex items-center justify-center font-semibold';
                    indicator.innerHTML = i;
                } else {
                    indicator.className = 'step-inactive w-10 h-10 rounded-full flex items-center justify-center font-semibold';
                    indicator.innerHTML = i;
                }
            }
        }

        // Update progress
        function updateProgress(step) {
            const progress = (step / 3) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `–®–∞–≥ ${step} –∏–∑ 3`;
        }

        // Generate recommendations
        function generateRecommendations() {
            // Update summary
            const seasonNames = {
                spring: '–í–µ—Å–Ω–∞',
                summer: '–õ–µ—Ç–æ',
                autumn: '–û—Å–µ–Ω—å',
                winter: '–ó–∏–º–∞'
            };

            document.getElementById('summary-fish').textContent = selectedFish;
            document.getElementById('summary-season').textContent = seasonNames[selectedSeason];

            // Generate recommendations based on fish and season
            const recommendations = getRecommendations(selectedFish, selectedSeason);
            
            const container = document.getElementById('recommendations-container');
            container.innerHTML = recommendations.map(rec => createRecommendationCard(rec)).join('');

            // Animate recommendations
            anime({
                targets: '.recommendation-card',
                opacity: [0, 1],
                translateY: [20, 0],
                delay: anime.stagger(100),
                duration: 600,
                easing: 'easeOutQuart'
            });
        }

        // Get recommendations
        function getRecommendations(fish, season) {
            const recommendations = {
                '–©—É–∫–∞': {
                    rod: { name: '–°–ø–∏–Ω–Ω–∏–Ω–≥ —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–ª–∞—Å—Å–∞', length: '2.1-2.4–º', power: 'Medium-Heavy', price: '–æ—Ç 3000‚ÇΩ' },
                    reel: { name: '–ë–µ–∑—ã–Ω–µ—Ä—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ç—É—à–∫–∞', size: '3000-4000', ratio: '5.2:1-6.2:1', price: '–æ—Ç 2000‚ÇΩ' },
                    line: { name: '–ü–ª–µ—Ç–µ–Ω–∞—è –ª–µ—Å–∫–∞', diameter: '0.20-0.25–º–º', strength: '15-20–∫–≥', price: '–æ—Ç 500‚ÇΩ' },
                    lures: ['–ö—Ä—É–ø–Ω—ã–µ –≤–æ–±–ª–µ—Ä—ã', '–°–∏–ª–∏–∫–æ–Ω–æ–≤—ã–µ –ø—Ä–∏–º–∞–Ω–∫–∏', '–ë–ª–µ—Å–Ω—ã', '–ü–æ–ø–ø–µ—Ä—ã'],
                    tips: '–õ—É—á—à–µ–µ –≤—Ä–µ–º—è - —Ä–∞–Ω–Ω–µ–µ —É—Ç—Ä–æ –∏ –≤–µ—á–µ—Ä. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≤–æ–¥–∫—É —Å –ø–∞—É–∑–∞–º–∏.'
                },
                '–û–∫—É–Ω—å': {
                    rod: { name: '–õ–µ–≥–∫–∏–π —Å–ø–∏–Ω–Ω–∏–Ω–≥', length: '1.8-2.1–º', power: 'Light-Medium', price: '–æ—Ç 2000‚ÇΩ' },
                    reel: { name: '–ë–µ–∑—ã–Ω–µ—Ä—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ç—É—à–∫–∞', size: '2000-3000', ratio: '5.8:1-6.4:1', price: '–æ—Ç 1500‚ÇΩ' },
                    line: { name: '–ü–ª–µ—Ç–µ–Ω–∞—è –ª–µ—Å–∫–∞', diameter: '0.12-0.18–º–º', strength: '8-12–∫–≥', price: '–æ—Ç 400‚ÇΩ' },
                    lures: ['–ú–µ–ª–∫–∏–µ –≤–æ–±–ª–µ—Ä—ã', '–ú–∏–∫—Ä–æ–±–ª–µ—Å–Ω—ã', '–°–∏–ª–∏–∫–æ–Ω–æ–≤—ã–µ —á–µ—Ä–≤—è–∫–∏', '–¢–≤–∏—Å—Ç–µ—Ä—ã'],
                    tips: '–ê–∫—Ç–∏–≤–µ–Ω –∫—Ä—É–≥–ª—ã–π –≥–æ–¥. –ó–∏–º–æ–π –æ—Ç–ª–∏—á–Ω–æ –∫–ª—é–µ—Ç –Ω–∞ –±–ª–µ—Å–Ω—ã.'
                },
                '–õ–µ—â': {
                    rod: { name: '–§–∏–¥–µ—Ä–Ω–æ–µ —É–¥–∏–ª–∏—â–µ', length: '3.6-4.2–º', power: 'Medium', price: '–æ—Ç 2500‚ÇΩ' },
                    reel: { name: '–ë–µ–∑—ã–Ω–µ—Ä—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ç—É—à–∫–∞', size: '4000-5000', ratio: '4.8:1-5.5:1', price: '–æ—Ç 1800‚ÇΩ' },
                    line: { name: '–ú–æ–Ω–æ—Ñ–∏–ª—å–Ω–∞—è –ª–µ—Å–∫–∞', diameter: '0.20-0.25–º–º', strength: '6-10–∫–≥', price: '–æ—Ç 300‚ÇΩ' },
                    lures: ['–û–ø–∞—Ä—ã—à', '–ß–µ—Ä–≤—å', '–ö—É–∫—É—Ä—É–∑–∞', '–¢–µ—Å—Ç–æ'],
                    tips: '–¢—Ä–µ–±—É–µ—Ç —Ç–æ—á–Ω–æ–π –ø—Ä–∏–∫–æ—Ä–º–∫–∏. –õ—É—á—à–µ–µ –≤—Ä–µ–º—è - —É—Ç—Ä–æ –∏ –≤–µ—á–µ—Ä.'
                },
                '–°—É–¥–∞–∫': {
                    rod: { name: '–°–ø–∏–Ω–Ω–∏–Ω–≥', length: '2.1-2.4–º', power: 'Medium', price: '–æ—Ç 2800‚ÇΩ' },
                    reel: { name: '–ë–µ–∑—ã–Ω–µ—Ä—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ç—É—à–∫–∞', size: '2500-3500', ratio: '5.2:1-6.0:1', price: '–æ—Ç 1700‚ÇΩ' },
                    line: { name: '–ü–ª–µ—Ç–µ–Ω–∞—è –ª–µ—Å–∫–∞', diameter: '0.18-0.22–º–º', strength: '12-16–∫–≥', price: '–æ—Ç 450‚ÇΩ' },
                    lures: ['–î–∂–∏–≥–æ–≤—ã–µ –ø—Ä–∏–º–∞–Ω–∫–∏', '–í–æ–±–ª–µ—Ä—ã', '–ë–ª–µ—Å–Ω—ã', '–¢–≤–∏—Å—Ç–µ—Ä—ã'],
                    tips: '–õ—É—á—à–µ–µ –≤—Ä–µ–º—è - —Å—É–º–µ—Ä–∫–∏ –∏ –Ω–æ—á—å. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∂–∏–≥–æ–≤—É—é –ø—Ä–æ–≤–æ–¥–∫—É.'
                },
                '–Ø–∑—å': {
                    rod: { name: '–ü–æ–ø–ª–∞–≤–æ—á–Ω–æ–µ —É–¥–∏–ª–∏—â–µ', length: '3.0-4.5–º', power: 'Light-Medium', price: '–æ—Ç 1500‚ÇΩ' },
                    reel: { name: '–ë–µ–∑—ã–Ω–µ—Ä—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ç—É—à–∫–∞', size: '3000-4000', ratio: '5.0:1-5.8:1', price: '–æ—Ç 1200‚ÇΩ' },
                    line: { name: '–ú–æ–Ω–æ—Ñ–∏–ª—å–Ω–∞—è –ª–µ—Å–∫–∞', diameter: '0.18-0.22–º–º', strength: '8-12–∫–≥', price: '–æ—Ç 350‚ÇΩ' },
                    lures: ['–ß–µ—Ä–≤—å', '–û–ø–∞—Ä—ã—à', '–ö—É–∫—É—Ä—É–∑–∞', '–ñ–∏–≤–µ—Ü'],
                    tips: '–û—á–µ–Ω—å —Å–∏–ª—å–Ω–∞—è —Ä—ã–±–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–µ —Å–Ω–∞—Å—Ç–∏.'
                },
                '–ü–ª–æ—Ç–≤–∞': {
                    rod: { name: '–õ–µ–≥–∫–∞—è –ø–æ–ø–ª–∞–≤–æ—á–Ω–∞—è —É–¥–æ—á–∫–∞', length: '2.7-3.6–º', power: 'Light', price: '–æ—Ç 1000‚ÇΩ' },
                    reel: { name: '–ë–µ–∑—ã–Ω–µ—Ä—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ç—É—à–∫–∞', size: '1000-2500', ratio: '5.2:1-5.8:1', price: '–æ—Ç 800‚ÇΩ' },
                    line: { name: '–ú–æ–Ω–æ—Ñ–∏–ª—å–Ω–∞—è –ª–µ—Å–∫–∞', diameter: '0.10-0.14–º–º', strength: '3-6–∫–≥', price: '–æ—Ç 200‚ÇΩ' },
                    lures: ['–ú–æ—Ç—ã–ª—å', '–û–ø–∞—Ä—ã—à', '–¢–µ—Å—Ç–æ', '–ö–æ—Ä–æ–µ–¥'],
                    tips: '–û—Ç–ª–∏—á–Ω–∞—è –Ω–∞–∂–∏–≤–∫–∞ –¥–ª—è —Ö–∏—â–Ω–æ–π —Ä—ã–±—ã. –ö–ª—é–µ—Ç –∫—Ä—É–≥–ª—ã–π –≥–æ–¥.'
                }
            };

            const baseRec = recommendations[fish] || recommendations['–û–∫—É–Ω—å'];
            
            // Season adjustments
            const seasonAdjustments = {
                winter: {
                    line: { name: '–õ–µ—Å–∫–∞ –¥–ª—è –∑–∏–º–Ω–µ–π —Ä—ã–±–∞–ª–∫–∏', diameter: '0.12-0.16–º–º', strength: '5-8–∫–≥', price: '–æ—Ç 300‚ÇΩ' },
                    lures: ['–ë–ª–µ—Å–Ω—ã', '–ë–∞–ª–∞–Ω—Å–∏—Ä—ã', '–ú–æ—Ä–º—ã—à–∫–∏'],
                    tips: '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∏–º–Ω–∏–µ —Å–Ω–∞—Å—Ç–∏. –õ—É–Ω–∫–∏ –ª—É—á—à–µ —Å–≤–µ—Ä–ª–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ.'
                },
                spring: {
                    tips: '–†—ã–±–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ø–æ—Å–ª–µ –∑–∏–º—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è—Ä–∫–∏–µ –ø—Ä–∏–º–∞–Ω–∫–∏.'
                },
                autumn: {
                    tips: '–ñ–æ—Ä –ø–µ—Ä–µ–¥ –∑–∏–º–æ–≤–∫–æ–π. –†—ã–±–∞ –±–µ—Ä–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ.'
                }
            };

            const adjustedRec = { ...baseRec };
            if (seasonAdjustments[season]) {
                Object.assign(adjustedRec, seasonAdjustments[season]);
            }

            return [
                {
                    title: 'üé£ –£–¥–∏–ª–∏—â–µ',
                    icon: 'üé£',
                    items: [adjustedRec.rod],
                    description: '–û—Å–Ω–æ–≤–Ω–æ–π —ç–ª–µ–º–µ–Ω—Ç —Å–Ω–∞—Å—Ç–∏'
                },
                {
                    title: 'üîÑ –ö–∞—Ç—É—à–∫–∞',
                    icon: 'üîÑ',
                    items: [adjustedRec.reel],
                    description: '–î–ª—è –Ω–∞–º–æ—Ç–∫–∏ –ª–µ—Å–∫–∏'
                },
                {
                    title: 'üßµ –õ–µ—Å–∫–∞',
                    icon: 'üßµ',
                    items: [adjustedRec.line],
                    description: '–°–≤—è–∑—É—é—â–µ–µ –∑–≤–µ–Ω–æ'
                },
                {
                    title: 'ü™ù –ü—Ä–∏–º–∞–Ω–∫–∏',
                    icon: 'ü™ù',
                    items: adjustedRec.lures.map(lure => ({ name: lure })),
                    description: adjustedRec.tips
                }
            ];
        }

        // Create recommendation card
        function createRecommendationCard(rec) {
            return `
                <div class="recommendation-card bg-white rounded-xl shadow-lg p-6" style="opacity: 0;">
                    <div class="flex items-center mb-4">
                        <div class="text-3xl mr-4">${rec.icon}</div>
                        <h3 class="text-2xl font-bold text-slate-800">${rec.title}</h3>
                    </div>
                    <p class="text-slate-600 mb-6">${rec.description}</p>
                    
                    <div class="grid gap-4">
                        ${rec.items.map(item => `
                            <div class="bg-slate-50 rounded-lg p-4">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-semibold text-slate-800">${item.name}</div>
                                        ${item.length ? `<div class="text-sm text-slate-600">–î–ª–∏–Ω–∞: ${item.length}</div>` : ''}
                                        ${item.power ? `<div class="text-sm text-slate-600">–¢–µ—Å—Ç: ${item.power}</div>` : ''}
                                        ${item.diameter ? `<div class="text-sm text-slate-600">–î–∏–∞–º–µ—Ç—Ä: ${item.diameter}</div>` : ''}
                                        ${item.strength ? `<div class="text-sm text-slate-600">–ü—Ä–æ—á–Ω–æ—Å—Ç—å: ${item.strength}</div>` : ''}
                                    </div>
                                    ${item.price ? `<div class="text-lg font-bold text-green-600">${item.price}</div>` : ''}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Reset calculator
        function resetCalculator() {
            selectedFish = null;
            selectedSeason = null;
            
            // Reset selections
            document.querySelectorAll('.fish-option').forEach(el => {
                el.classList.remove('border-blue-500', 'bg-blue-50');
                el.classList.add('border-slate-200');
            });
            
            document.querySelectorAll('.season-option').forEach(el => {
                el.classList.remove('border-blue-500', 'bg-blue-50');
                el.classList.add('border-slate-200');
            });
            
            // Disable buttons
            document.getElementById('step1-next').disabled = true;
            document.getElementById('step2-next').disabled = true;
            
            // Go to first step
            goToStep(1);
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for main.js to load
            setTimeout(initializeTackleCalculator, 100);
        });
    </script>
</body>
</html>